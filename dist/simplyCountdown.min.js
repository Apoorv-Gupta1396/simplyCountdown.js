/*!
 * Project : simply-countdown
 * File : simplyCountdown
 * Date : 27/06/2015
 * License : MIT
 * Version : 1.2.0
 * Author : Vincent Loy <vincent.loy1@gmail.com>
 */
!function(e){"use strict";var n,t;n=function(e){var t,s,r;for(e=e||{},t=1;t<arguments.length;t+=1)if(s=arguments[t])for(r in s)s.hasOwnProperty(r)&&("object"==typeof s[r]?n(e[r],s[r]):e[r]=s[r]);return e},t=function(e,t){var s,r,o,a,i,d,u,l,c,w=n({year:2015,month:6,day:28,hours:0,minutes:0,seconds:0,words:{days:"day",hours:"hour",minutes:"minute",seconds:"second",pluralLetter:"s"},plural:!0,inline:!1,enableUtc:!0,inlineClass:"simply-countdown-inline",sectionClass:"simply-section",amountClass:"simply-amount",wordClass:"simply-word"},t),m=document.querySelectorAll(e);r=new Date(w.year,w.month-1,w.day,w.hours,w.minutes,w.seconds),s=w.enableUtc?new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()):r,Array.prototype.forEach.call(m,function(e){window.setInterval(function(){var n,t,r,m,p,L,T,y,C,M;o=new Date,w.enableUtc?(a=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()),i=(s-a.getTime())/1e3):i=(s-o.getTime())/1e3,i>0?(d=parseInt(i/86400,10),i%=86400,u=parseInt(i/3600,10),i%=3600,l=parseInt(i/60,10),c=parseInt(i%60,10)):(d=0,u=0,l=0,c=0),w.plural?(L=d>1?w.words.days+w.words.pluralLetter:w.words.days,T=u>1?w.words.hours+w.words.pluralLetter:w.words.hours,y=l>1?w.words.minutes+w.words.pluralLetter:w.words.minutes,M=c>1?w.words.seconds+w.words.pluralLetter:w.words.seconds):(L=w.words.days,T=w.words.hours,y=w.words.minutes,M=w.words.seconds),w.inline?(n=document.createElement("span"),n.classList.add(w.inlineClass),n.innerHTML=d+" "+L+", "+u+" "+T+", "+l+" "+y+", "+c+" "+M+", ",e.innerHTML=n.outerHTML):(t=document.createElement("div"),r=document.createElement("span"),p=document.createElement("span"),m=document.createElement("div"),t.classList.add(w.sectionClass),r.classList.add(w.amountClass),p.classList.add(w.wordClass),m.appendChild(r),m.appendChild(p),t.appendChild(m),r.innerHTML=d,p.innerHTML=L,C=t.outerHTML,r.innerHTML=u,p.innerHTML=T,C+=t.outerHTML,r.innerHTML=l,p.innerHTML=y,C+=t.outerHTML,r.innerHTML=c,p.innerHTML=M,C+=t.outerHTML,e.innerHTML=C)},1e3)})},e.simplyCountdown=t}(window),window.jQuery&&!function(e,n){"use strict";function t(e,t){n(e,t)}e.fn.simplyCountdown=function(e){return t(this.selector,e)}}(jQuery,simplyCountdown);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpbXBseUNvdW50ZG93bi5qcyJdLCJuYW1lcyI6WyJleHBvcnRzIiwiZXh0ZW5kIiwic2ltcGx5Q291bnRkb3duIiwib3V0IiwiaSIsIm9iaiIsImtleSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImhhc093blByb3BlcnR5IiwiZWx0IiwiYXJncyIsInRhcmdldERhdGUiLCJ0YXJnZXRUbXBEYXRlIiwibm93Iiwibm93VXRjIiwic2Vjb25kc0xlZnQiLCJkYXlzIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsInBhcmFtZXRlcnMiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJ3b3JkcyIsInBsdXJhbExldHRlciIsInBsdXJhbCIsImlubGluZSIsImVuYWJsZVV0YyIsImlubGluZUNsYXNzIiwic2VjdGlvbkNsYXNzIiwiYW1vdW50Q2xhc3MiLCJ3b3JkQ2xhc3MiLCJjZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIkRhdGUiLCJnZXRVVENGdWxsWWVhciIsImdldFVUQ01vbnRoIiwiZ2V0VVRDRGF0ZSIsImdldFVUQ0hvdXJzIiwiZ2V0VVRDTWludXRlcyIsImdldFVUQ1NlY29uZHMiLCJBcnJheSIsInByb3RvdHlwZSIsImZvckVhY2giLCJjYWxsIiwiY291bnRkb3duIiwid2luZG93Iiwic2V0SW50ZXJ2YWwiLCJzcGFuVGFnIiwic2VjdGlvblRhZyIsImFtb3VudFRhZyIsInNlY3Rpb25UYWdJbm5lckNvbnRhaW5lciIsIndvcmRUYWciLCJkYXlXb3JkIiwiaG91cldvcmQiLCJtaW51dGVXb3JkIiwiZnVsbENvdW50RG93biIsInNlY29uZFdvcmQiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXRUaW1lIiwicGFyc2VJbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwib3V0ZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJqUXVlcnkiLCIkIiwic2ltcGx5Q291bnRkb3duaWZ5IiwiZWwiLCJvcHRpb25zIiwiZm4iLCJ0aGlzIiwic2VsZWN0b3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0NBU0MsU0FBVUEsR0FDUCxZQUVBLElBQUlDLEdBQ0FDLENBRUpELEdBQVMsU0FBVUUsR0FDZixHQUFJQyxHQUNBQyxFQUNBQyxDQUdKLEtBRkFILEVBQU1BLE1BRURDLEVBQUksRUFBR0EsRUFBSUcsVUFBVUMsT0FBUUosR0FBSyxFQUduQyxHQUZBQyxFQUFNRSxVQUFVSCxHQUdaLElBQUtFLElBQU9ELEdBQ0pBLEVBQUlJLGVBQWVILEtBQ0ssZ0JBQWJELEdBQUlDLEdBQ1hMLEVBQU9FLEVBQUlHLEdBQU1ELEVBQUlDLElBRXJCSCxFQUFJRyxHQUFPRCxFQUFJQyxHQU9uQyxPQUFPSCxJQUdYRCxFQUFrQixTQUFVUSxFQUFLQyxHQUU3QixHQXNCSUMsR0FDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUE5QkFDLEVBQWFwQixHQUNUcUIsS0FBTSxLQUNOQyxNQUFPLEVBQ1BDLElBQUssR0FDTE4sTUFBTyxFQUNQQyxRQUFTLEVBQ1RDLFFBQVMsRUFDVEssT0FDSVIsS0FBTSxNQUNOQyxNQUFPLE9BQ1BDLFFBQVMsU0FDVEMsUUFBUyxTQUNUTSxhQUFjLEtBRWxCQyxRQUFRLEVBQ1JDLFFBQVEsRUFDUkMsV0FBVyxFQUNYQyxZQUFhLDBCQUNiQyxhQUFjLGlCQUNkQyxZQUFhLGdCQUNiQyxVQUFXLGVBQ1p0QixHQVVIdUIsRUFBS0MsU0FBU0MsaUJBQWlCMUIsRUFFbkNHLEdBQWdCLEdBQUl3QixNQUNoQmhCLEVBQVdDLEtBQ1hELEVBQVdFLE1BQVEsRUFDbkJGLEVBQVdHLElBQ1hILEVBQVdILE1BQ1hHLEVBQVdGLFFBQ1hFLEVBQVdELFNBSVhSLEVBREFTLEVBQVdRLFVBQ0UsR0FBSVEsTUFBS3hCLEVBQWN5QixpQkFBa0J6QixFQUFjMEIsY0FBZTFCLEVBQWMyQixhQUFlM0IsRUFBYzRC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QixTQUNOLFNBQVVDLEVBQUcxRSxHQUNWLFlBRUEsU0FBUzJFLEdBQW1CQyxFQUFJQyxHQUM1QjdFLEVBQWdCNEUsRUFBSUMsR0FHeEJILEVBQUVJLEdBQUc5RSxnQkFBa0IsU0FBVTZFLEdBQzdCLE1BQU9GLEdBQW1CSSxLQUFLQyxTQUFVSCxLQUUvQ0osT0FBUXpFIiwiZmlsZSI6InNpbXBseUNvdW50ZG93bi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFByb2plY3QgOiBzaW1wbHktY291bnRkb3duXG4gKiBGaWxlIDogc2ltcGx5Q291bnRkb3duXG4gKiBEYXRlIDogMjcvMDYvMjAxNVxuICogTGljZW5zZSA6IE1JVFxuICogVmVyc2lvbiA6IDEuMi4wXG4gKiBBdXRob3IgOiBWaW5jZW50IExveSA8dmluY2VudC5sb3kxQGdtYWlsLmNvbT5cbiAqL1xuLypnbG9iYWwgd2luZG93LCBkb2N1bWVudCovXG4oZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgZXh0ZW5kLFxuICAgICAgICBzaW1wbHlDb3VudGRvd247XG5cbiAgICBleHRlbmQgPSBmdW5jdGlvbiAob3V0KSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgb2JqLFxuICAgICAgICAgICAga2V5O1xuICAgICAgICBvdXQgPSBvdXQgfHwge307XG5cbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgb2JqID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRlbmQob3V0W2tleV0sIG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIHNpbXBseUNvdW50ZG93biA9IGZ1bmN0aW9uIChlbHQsIGFyZ3MpIHtcblxuICAgICAgICB2YXIgcGFyYW1ldGVycyA9IGV4dGVuZCh7XG4gICAgICAgICAgICAgICAgeWVhcjogMjAxNSxcbiAgICAgICAgICAgICAgICBtb250aDogNixcbiAgICAgICAgICAgICAgICBkYXk6IDI4LFxuICAgICAgICAgICAgICAgIGhvdXJzOiAwLFxuICAgICAgICAgICAgICAgIG1pbnV0ZXM6IDAsXG4gICAgICAgICAgICAgICAgc2Vjb25kczogMCxcbiAgICAgICAgICAgICAgICB3b3Jkczoge1xuICAgICAgICAgICAgICAgICAgICBkYXlzOiAnZGF5JyxcbiAgICAgICAgICAgICAgICAgICAgaG91cnM6ICdob3VyJyxcbiAgICAgICAgICAgICAgICAgICAgbWludXRlczogJ21pbnV0ZScsXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHM6ICdzZWNvbmQnLFxuICAgICAgICAgICAgICAgICAgICBwbHVyYWxMZXR0ZXI6ICdzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGx1cmFsOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlubGluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW5hYmxlVXRjOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlubGluZUNsYXNzOiAnc2ltcGx5LWNvdW50ZG93bi1pbmxpbmUnLFxuICAgICAgICAgICAgICAgIHNlY3Rpb25DbGFzczogJ3NpbXBseS1zZWN0aW9uJyxcbiAgICAgICAgICAgICAgICBhbW91bnRDbGFzczogJ3NpbXBseS1hbW91bnQnLFxuICAgICAgICAgICAgICAgIHdvcmRDbGFzczogJ3NpbXBseS13b3JkJ1xuICAgICAgICAgICAgfSwgYXJncyksXG4gICAgICAgICAgICB0YXJnZXREYXRlLFxuICAgICAgICAgICAgdGFyZ2V0VG1wRGF0ZSxcbiAgICAgICAgICAgIG5vdyxcbiAgICAgICAgICAgIG5vd1V0YyxcbiAgICAgICAgICAgIHNlY29uZHNMZWZ0LFxuICAgICAgICAgICAgZGF5cyxcbiAgICAgICAgICAgIGhvdXJzLFxuICAgICAgICAgICAgbWludXRlcyxcbiAgICAgICAgICAgIHNlY29uZHMsXG4gICAgICAgICAgICBjZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWx0KTtcblxuICAgICAgICB0YXJnZXRUbXBEYXRlID0gbmV3IERhdGUoXG4gICAgICAgICAgICBwYXJhbWV0ZXJzLnllYXIsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzLm1vbnRoIC0gMSxcbiAgICAgICAgICAgIHBhcmFtZXRlcnMuZGF5LFxuICAgICAgICAgICAgcGFyYW1ldGVycy5ob3VycyxcbiAgICAgICAgICAgIHBhcmFtZXRlcnMubWludXRlcyxcbiAgICAgICAgICAgIHBhcmFtZXRlcnMuc2Vjb25kc1xuICAgICAgICApO1xuXG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLmVuYWJsZVV0Yykge1xuICAgICAgICAgICAgdGFyZ2V0RGF0ZSA9IG5ldyBEYXRlKHRhcmdldFRtcERhdGUuZ2V0VVRDRnVsbFllYXIoKSwgdGFyZ2V0VG1wRGF0ZS5nZXRVVENNb250aCgpLCB0YXJnZXRUbXBEYXRlLmdldFVUQ0RhdGUoKSwgIHRhcmdldFRtcERhdGUuZ2V0VVRDSG91cnMoKSxcbiAgICAgICAgICAgICAgICB0YXJnZXRUbXBEYXRlLmdldFVUQ01pbnV0ZXMoKSwgdGFyZ2V0VG1wRGF0ZS5nZXRVVENTZWNvbmRzKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0RGF0ZSA9IHRhcmdldFRtcERhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGNkLCBmdW5jdGlvbiAoY291bnRkb3duKSB7XG5cbiAgICAgICAgICAgIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwYW5UYWcsXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25UYWcsXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudFRhZyxcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvblRhZ0lubmVyQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICB3b3JkVGFnLFxuICAgICAgICAgICAgICAgICAgICBkYXlXb3JkLFxuICAgICAgICAgICAgICAgICAgICBob3VyV29yZCxcbiAgICAgICAgICAgICAgICAgICAgbWludXRlV29yZCxcbiAgICAgICAgICAgICAgICAgICAgZnVsbENvdW50RG93bixcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kV29yZDtcblxuICAgICAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtZXRlcnMuZW5hYmxlVXRjKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vd1V0YyA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSwgIG5vdy5nZXRIb3VycygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm93LmdldE1pbnV0ZXMoKSwgbm93LmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHNMZWZ0ID0gKHRhcmdldERhdGUgLSBub3dVdGMuZ2V0VGltZSgpKSAvIDEwMDA7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmRzTGVmdCA9ICh0YXJnZXREYXRlIC0gbm93LmdldFRpbWUoKSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzZWNvbmRzTGVmdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5cyA9IHBhcnNlSW50KHNlY29uZHNMZWZ0IC8gODY0MDAsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kc0xlZnQgPSBzZWNvbmRzTGVmdCAlIDg2NDAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGhvdXJzID0gcGFyc2VJbnQoc2Vjb25kc0xlZnQgLyAzNjAwLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHNMZWZ0ID0gc2Vjb25kc0xlZnQgJSAzNjAwO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBwYXJzZUludChzZWNvbmRzTGVmdCAvIDYwLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSBwYXJzZUludChzZWNvbmRzTGVmdCAlIDYwLCAxMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGhvdXJzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzLnBsdXJhbCkge1xuICAgICAgICAgICAgICAgICAgICBkYXlXb3JkID0gZGF5cyA+IDEgPyBwYXJhbWV0ZXJzLndvcmRzLmRheXMgKyBwYXJhbWV0ZXJzLndvcmRzLnBsdXJhbExldHRlciA6IHBhcmFtZXRlcnMud29yZHMuZGF5cztcbiAgICAgICAgICAgICAgICAgICAgaG91cldvcmQgPSBob3VycyA+IDEgPyBwYXJhbWV0ZXJzLndvcmRzLmhvdXJzICsgcGFyYW1ldGVycy53b3Jkcy5wbHVyYWxMZXR0ZXIgOiBwYXJhbWV0ZXJzLndvcmRzLmhvdXJzO1xuICAgICAgICAgICAgICAgICAgICBtaW51dGVXb3JkID0gbWludXRlcyA+IDEgPyBwYXJhbWV0ZXJzLndvcmRzLm1pbnV0ZXMgKyBwYXJhbWV0ZXJzLndvcmRzLnBsdXJhbExldHRlciA6IHBhcmFtZXRlcnMud29yZHMubWludXRlcztcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kV29yZCA9IHNlY29uZHMgPiAxID8gcGFyYW1ldGVycy53b3Jkcy5zZWNvbmRzICsgcGFyYW1ldGVycy53b3Jkcy5wbHVyYWxMZXR0ZXIgOiBwYXJhbWV0ZXJzLndvcmRzLnNlY29uZHM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5V29yZCA9IHBhcmFtZXRlcnMud29yZHMuZGF5cztcbiAgICAgICAgICAgICAgICAgICAgaG91cldvcmQgPSBwYXJhbWV0ZXJzLndvcmRzLmhvdXJzO1xuICAgICAgICAgICAgICAgICAgICBtaW51dGVXb3JkID0gcGFyYW1ldGVycy53b3Jkcy5taW51dGVzO1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmRXb3JkID0gcGFyYW1ldGVycy53b3Jkcy5zZWNvbmRzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qIGRpc3BsYXkgYW4gaW5saW5lIGNvdW50ZG93biBpbnRvIGEgc3BhbiB0YWcgKi9cbiAgICAgICAgICAgICAgICBpZiAocGFyYW1ldGVycy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhblRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgc3BhblRhZy5jbGFzc0xpc3QuYWRkKHBhcmFtZXRlcnMuaW5saW5lQ2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNwYW5UYWcuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRheXMgKyAnICcgKyBkYXlXb3JkICsgJywgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyArICcgJyArIGhvdXJXb3JkICsgJywgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzICsgJyAnICsgbWludXRlV29yZCArICcsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyArICcgJyArIHNlY29uZFdvcmQgKyAnLCAnO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZG93bi5pbm5lckhUTUwgPSBzcGFuVGFnLm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudFRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgd29yZFRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvblRhZ0lubmVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvblRhZy5jbGFzc0xpc3QuYWRkKHBhcmFtZXRlcnMuc2VjdGlvbkNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50VGFnLmNsYXNzTGlzdC5hZGQocGFyYW1ldGVycy5hbW91bnRDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgIHdvcmRUYWcuY2xhc3NMaXN0LmFkZChwYXJhbWV0ZXJzLndvcmRDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvblRhZ0lubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGFtb3VudFRhZyk7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25UYWdJbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZCh3b3JkVGFnKTtcblxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uVGFnLmFwcGVuZENoaWxkKHNlY3Rpb25UYWdJbm5lckNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgICAgICAgICAgYW1vdW50VGFnLmlubmVySFRNTCA9IGRheXM7XG4gICAgICAgICAgICAgICAgICAgIHdvcmRUYWcuaW5uZXJIVE1MID0gZGF5V29yZDtcblxuICAgICAgICAgICAgICAgICAgICBmdWxsQ291bnREb3duID0gc2VjdGlvblRhZy5vdXRlckhUTUw7XG5cbiAgICAgICAgICAgICAgICAgICAgYW1vdW50VGFnLmlubmVySFRNTCA9IGhvdXJzO1xuICAgICAgICAgICAgICAgICAgICB3b3JkVGFnLmlubmVySFRNTCA9IGhvdXJXb3JkO1xuXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxDb3VudERvd24gKz0gc2VjdGlvblRhZy5vdXRlckhUTUw7XG5cbiAgICAgICAgICAgICAgICAgICAgYW1vdW50VGFnLmlubmVySFRNTCA9IG1pbnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIHdvcmRUYWcuaW5uZXJIVE1MID0gbWludXRlV29yZDtcblxuICAgICAgICAgICAgICAgICAgICBmdWxsQ291bnREb3duICs9IHNlY3Rpb25UYWcub3V0ZXJIVE1MO1xuXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudFRhZy5pbm5lckhUTUwgPSBzZWNvbmRzO1xuICAgICAgICAgICAgICAgICAgICB3b3JkVGFnLmlubmVySFRNTCA9IHNlY29uZFdvcmQ7XG5cbiAgICAgICAgICAgICAgICAgICAgZnVsbENvdW50RG93biArPSBzZWN0aW9uVGFnLm91dGVySFRNTDtcblxuICAgICAgICAgICAgICAgICAgICBjb3VudGRvd24uaW5uZXJIVE1MID0gZnVsbENvdW50RG93bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGV4cG9ydHMuc2ltcGx5Q291bnRkb3duID0gc2ltcGx5Q291bnRkb3duO1xufSh3aW5kb3cpKTtcblxuLypnbG9iYWwgJCwgalF1ZXJ5LCBzaW1wbHlDb3VudGRvd24qL1xuaWYgKHdpbmRvdy5qUXVlcnkpIHtcbiAgICAoZnVuY3Rpb24gKCQsIHNpbXBseUNvdW50ZG93bikge1xuICAgICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgICAgZnVuY3Rpb24gc2ltcGx5Q291bnRkb3duaWZ5KGVsLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBzaW1wbHlDb3VudGRvd24oZWwsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5mbi5zaW1wbHlDb3VudGRvd24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHNpbXBseUNvdW50ZG93bmlmeSh0aGlzLnNlbGVjdG9yLCBvcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICB9KGpRdWVyeSwgc2ltcGx5Q291bnRkb3duKSk7XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=